<form action="changePassword?callbackType=closeCurrent" method="post" autocomplete="off" class="pageForm required-validate" onsubmit="return validateCallback(this, ${(target?has_content&&'dialog'=target)?then('dialogAjaxDone','navTabAjaxDone')});">
    <input type="hidden" name="_csrf" value="<@tools.csrfToken admin=true/>"/>
    <input type="hidden" name="encoding" value="sha512"/>
    <div class="formBar">
        <ul>
            <li><button type="submit" class="buttonActive" title="ctrl+s"><@t.page 'button.save'/></button></li>
            <li><button type="button" class="button close"><@t.page 'button.close'/></button></li>
        </ul>
    </div>
    <div class="pageFormContent" layoutH>
    <#if target?has_content&&admin.weakPassword>
        <p><@t.message 'verify.custom.weakPassword'/></p>
    </#if>
        <dl class="nowrap">
            <dt><@t.page 'user.old_password'/>:</dt>
            <dd><input type="password" name="oldpassword" escape="true"/></dd>
        </dl>
        <dl class="nowrap">
            <dt><@t.page 'user.new_password'/>:</dt>
            <dd><input type="password" name="password" id="password" escape="true" remote="isWeak" data-msg-remote="<@t.message 'verify.custom.weakPassword'/>"/></dd>
        </dl>
        <dl class="nowrap">
            <dt><@t.page 'repeat_password'/>:</dt>
            <dd><input type="password" name="repassword" escape="true" equalTo="#password"/></dd>
        </dl>
    </div>
</form>